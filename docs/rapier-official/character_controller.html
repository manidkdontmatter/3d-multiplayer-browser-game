<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-user_guides/javascript/character_controller" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Character controller | Rapier</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://rapier.rs/docs/user_guides/javascript/character_controller"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Character controller | Rapier"><meta data-rh="true" name="description" content="Most games involve bodies behaving in ways that defy the laws of physics: floating platforms, elevators,"><meta data-rh="true" property="og:description" content="Most games involve bodies behaving in ways that defy the laws of physics: floating platforms, elevators,"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://rapier.rs/docs/user_guides/javascript/character_controller"><link data-rh="true" rel="alternate" href="https://rapier.rs/docs/user_guides/javascript/character_controller" hreflang="en"><link data-rh="true" rel="alternate" href="https://rapier.rs/docs/user_guides/javascript/character_controller" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://MDOZU7PTCV-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Rapier" href="/opensearch.xml">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css"><link rel="stylesheet" href="/assets/css/styles.72c20eb1.css">
<script src="/assets/js/runtime~main.c1aec81f.js" defer="defer"></script>
<script src="/assets/js/main.5f1b316a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/rapier_logo_color_small.svg" alt="Rapier Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/rapier_logo_color_small.svg" alt="Rapier Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Rapier</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Demos</a><ul class="dropdown__menu"><li><a href="https://rapier.rs/demos2d/index.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">2D Demos<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://rapier.rs/demos3d/index.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">3D Demos<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a class="navbar__item navbar__link" href="/community">Community</a><a href="https://dimforge.com/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item header-button-donate"><a class="header-button-donate" href="https://github.com/sponsors/dimforge" target="_blank" rel="noopener noreferrer">Donate ♥</a></div><a href="https://dimforge.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Dimforge<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/dimforge/rapier" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/rapier_logo_color_small.svg" alt="Rapier Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/rapier_logo_color_small.svg" alt="Rapier Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Rapier</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">About Rapier</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/user_guides/rust/getting_started">User Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/user_guides/rust/getting_started">Rust (0.29)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/user_guides/bevy_plugin/getting_started_bevy">Bevy Plugin (0.30)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/user_guides/javascript/getting_started_js">JavaScript (0.17)</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_guides/javascript/getting_started_js">Getting started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_guides/javascript/rigid_bodies">Rigid-bodies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_guides/javascript/colliders">Colliders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_guides/javascript/joints">Joints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_guides/javascript/joint_constraints">Joint constraints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/user_guides/javascript/character_controller">Character controller</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_guides/javascript/scene_queries">Scene queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_guides/javascript/advanced_collision_detection_js">Advanced collision-detection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_guides/javascript/serialization">Serialization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_guides/javascript/determinism">Determinism</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_guides/javascript/common_mistakes">Common mistakes</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/api/javascript/JavaScript2D">API Documentation</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">User Guides</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">JavaScript (0.17)</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Character controller</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Character controller</h1></header><p>Most games involve bodies behaving in ways that defy the laws of physics: floating platforms, elevators,
playable characters, etc. This is why <strong>kinematic bodies</strong> exist: they offer a total control over the body’s trajectory
since they are completely immune to forces or impulses (like gravity, contacts, joints).</p>
<p>But this control comes at a price: it is up to the user to take any obstacle into account by running custom
collision-detection operations manually and update the trajectory accordingly. This can be very difficult. Detecting
obstacles usually rely on <a href="/docs/user_guides/javascript/scene_queries#ray-casting">ray-casting</a> or <a href="/docs/user_guides/javascript/scene_queries#shape-casting">shape-casting</a>, used
to adjust the trajectory based on the potential contact normals. Often, multiple ray or shape-casts are needed, and the
trajectory adjustment code isn’t straightforward.</p>
<p>The <strong>Kinematic Character Controller</strong> (which we will abbreviate to <strong><em>character controller</em></strong>) is a higher-level tool
that will emit the proper ray-casts and shape-casts to adjust the user-defined trajectory based on obstacles. The
well-known <em>move-and-slide</em> operation is the main feature of a character controller.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Despite its name, a character controller can also be used for moving objects that are not characters. For example, a
character controller may be used to move a platform. In the rest of this guide, we will use the word <em>character</em>
to designate <em>whatever you would like to move using the character controller</em>.</p></div></div>
<p>Rapier provides a built-in general-purpose character controller implementation. It allows you to easily:</p>
<ul>
<li>Stop at obstacles.</li>
<li>Slide on slopes that are not to steep.</li>
<li>Climb stairs automatically.</li>
<li>Walk over small obstacles.</li>
<li>Interact with moving platforms.</li>
</ul>
<p>Despite the fact that this built-in character controller is designed to be generic enough to serve as a good starting
point for many common use-cases, character-control (especially for the player’s character itself) is often very
game-specific. Therefore the builtin character controller may not work perfectly out-of-the-box for all game
types.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="setup-and-usage">Setup and usage<a href="#setup-and-usage" class="hash-link" aria-label="Direct link to Setup and usage" title="Direct link to Setup and usage">​</a></h2>
<!-- -->
<p>A new character controller can be created and removed by the physics <code>World</code>:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// The gap the controller will leave between the character and its environment.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> offset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.01</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Create the controller.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> characterController </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> world</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createCharacterController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">offset</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Remove the controller once we are done with it.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">world</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">removeCharacterController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">characterController</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note that the character controller does not store a reference to the rigid-body and collider it controls. Therefore, the
same instance of the <code>CharacterController</code> class can be used to control different colliders. This can be useful if
you want to apply the same kind of character control settings to multiple characters.</p>
<p>The created character controller can then be used to control the movement of a collider taking into account obstacles
on its path. This is done in two steps:</p>
<ol>
<li>Given a desired translation, compute the actual translation that we can apply to the collider based on the obstacles.</li>
<li>Read the result and apply it to the rigid-body or collider (if it isn’t attached to a rigid-body) by setting its
position, kinematic velocity, or next kinematic position, depending on the situation.</li>
</ol>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> characterController </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> world</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createCharacterController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">offset</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">characterController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">computeColliderMovement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    collider</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// The collider we would like to move.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    desiredTranslation</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// The movement we would like to apply if there wasn’t any obstacle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Read the result.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> correctedMovement </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> characterController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">computedMovement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// TODO: apply this corrected movement by following the rules described below.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The recommended way to update the character’s position depends on its representation:</p>
<ul>
<li>A <strong>collider not attached</strong> to any rigid-body: set the collider’s position directly (with <code>collider.setTranslation</code>)
to the corrected movement added to its current position.</li>
<li>A <strong>velocity-based kinematic rigid-body</strong>: set its velocity (with <code>rigidBody.setLinvel</code>) to the computed movement
divided by the timestep length.</li>
<li>A <strong>position-based kinematic rigid-body</strong>: set its next kinematic position (with <code>rigidBody.setNextKinematicTranslation</code>)
to the corrected movement added to its current position.</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>The character’s shape may be any shape supported by Rapier. However, it is recommended to either use a cuboid,
a ball, or a capsule since they involve less computations and less numerical approximations.</p></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>The built-in character controller <strong>does not</strong> support rotational movement. It only supports translations.</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="character-offset">Character offset<a href="#character-offset" class="hash-link" aria-label="Direct link to Character offset" title="Direct link to Character offset">​</a></h2>
<!-- -->
<p>For performance and numerical stability reasons, the character controller will attempt to preserve a small gap between
the character shape and the environment. This small gap is named <code>offset</code> and acts as a small margin around the character
shape. A good value for this offset is something sufficiently small to make the gap unnoticeable, but sufficiently large
to avoid numerical issues (if the character seems to get stuck inexplicably, try increasing the offset).</p>
<p><img decoding="async" loading="lazy" alt="character offset" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+Cjxzdmcgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDgxNSAyNDMiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgeG1sbnM6c2VyaWY9Imh0dHA6Ly93d3cuc2VyaWYuY29tLyIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxLjU7Ij4KICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLDEsLTEzMSwtMjUyMCkiPgogICAgICAgIDxnIGlkPSJDYXBzdWxlIj4KICAgICAgICA8L2c+CiAgICAgICAgPGcgaWQ9IkNhcHN1bGUxIiBzZXJpZjppZD0iQ2Fwc3VsZSI+CiAgICAgICAgPC9nPgogICAgICAgIDxnIGlkPSJDYXBzdWxlMiIgc2VyaWY6aWQ9IkNhcHN1bGUiPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBpZD0iQ2Fwc3VsZTMiIHNlcmlmOmlkPSJDYXBzdWxlIj4KICAgICAgICA8L2c+CiAgICAgICAgPGcgaWQ9IkNhcHN1bGU0IiBzZXJpZjppZD0iQ2Fwc3VsZSI+CiAgICAgICAgPC9nPgogICAgICAgIDxnIGlkPSJDYXBzdWxlNSIgc2VyaWY6aWQ9IkNhcHN1bGUiPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBpZD0iQ2Fwc3VsZTYiIHNlcmlmOmlkPSJDYXBzdWxlIj4KICAgICAgICA8L2c+CiAgICAgICAgPGcgaWQ9IkNhcHN1bGU3IiBzZXJpZjppZD0iQ2Fwc3VsZSI+CiAgICAgICAgPC9nPgogICAgICAgIDxnIGlkPSJDYXBzdWxlOCIgc2VyaWY6aWQ9IkNhcHN1bGUiPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBpZD0iQ2Fwc3VsZTkiIHNlcmlmOmlkPSJDYXBzdWxlIj4KICAgICAgICA8L2c+CiAgICAgICAgPGcgaWQ9IkNhcHN1bGUxMCIgc2VyaWY6aWQ9IkNhcHN1bGUiPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBpZD0iQ2Fwc3VsZTExIiBzZXJpZjppZD0iQ2Fwc3VsZSI+CiAgICAgICAgPC9nPgogICAgICAgIDxnIGlkPSJDYXBzdWxlMTIiIHNlcmlmOmlkPSJDYXBzdWxlIiB0cmFuc2Zvcm09Im1hdHJpeCgwLjk2OTc3OCwwLDAsMC45MTEyMywzMDEuMzQ0LDI0NjUuMTkpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTIwMC43ODcsMTI0LjAxNkMyMDAuNzg3LDEwMS4yIDIxOS4zMTEsODIuNjc3IDI0Mi4xMjYsODIuNjc3QzI2NC45NDEsODIuNjc3IDI4My40NjUsMTAxLjIgMjgzLjQ2NSwxMjQuMDE2IiBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTpyZ2IoMCw5NiwxOTYpO3N0cm9rZS13aWR0aDoyLjY0cHg7c3Ryb2tlLWRhc2hhcnJheToyLjY0LDEwLjU0LDAsMDtzdHJva2UtZGFzaG9mZnNldDoyLjY0OyIvPgogICAgICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwxLC01LjY4NDM0ZS0xNCwxMjkuOTIxKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjgzLjQ2NSwxMjEuNzUyQzI4My40NjUsMTQ0LjU2NyAyNjQuOTQxLDE2NS4zNTQgMjQyLjEyNiwxNjUuMzU0QzIxOS4zMTEsMTY1LjM1NCAyMDAuNzg3LDE0Ni44MzEgMjAwLjc4NywxMjQuMDE2IiBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTpyZ2IoMCw5NiwxOTYpO3N0cm9rZS13aWR0aDoyLjY0cHg7c3Ryb2tlLWRhc2hhcnJheToyLjY0LDEwLjU0LDAsMDsiLz4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8cGF0aCBkPSJNMjAwLjc4NywxMjQuMDE2TDIwMC43ODcsMjU5Ljg0MyIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6cmdiKDAsOTYsMTk2KTtzdHJva2Utd2lkdGg6Mi42NHB4O3N0cm9rZS1kYXNoYXJyYXk6Mi42NCwxMC41NCwwLDA7Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yODMuNDY1LDI1My43NEwyODMuNDY1LDEyNC4wMTYiIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOnJnYigwLDk2LDE5Nik7c3Ryb2tlLXdpZHRoOjIuNjRweDtzdHJva2UtZGFzaGFycmF5OjIuNjQsMTAuNTQsMCwwOyIvPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBpZD0iQ2Fwc3VsZTEzIiBzZXJpZjppZD0iQ2Fwc3VsZSIgdHJhbnNmb3JtPSJtYXRyaXgoMC44NTcxNDMsMCwwLDAuODU3MTQzLDMyOS4wNjQsMjQ3NS4yNSkiPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSIyNDIuMTI2IiBjeT0iMTI0LjAxNiIgcj0iNDEuMzM5IiBzdHlsZT0iZmlsbDpyZ2IoNzYsNzYsNzYpOyIvPgogICAgICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwxLC01LjY4NDM0ZS0xNCwxMjkuOTIxKSI+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSIyNDIuMTI2IiBjeT0iMTI0LjAxNiIgcj0iNDEuMzM5IiBzdHlsZT0iZmlsbDpyZ2IoNzYsNzYsNzYpOyIvPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxyZWN0IHg9IjIwMC43ODciIHk9IjEyNC4wMTYiIHdpZHRoPSI4Mi42NzciIGhlaWdodD0iMTM1LjgyNyIgc3R5bGU9ImZpbGw6cmdiKDc2LDc2LDc2KTsiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSwxOTkuNTM4LDYxNC4xNzMpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTE3Ny4xNjUsMjEyNS45OEw0OTYuMDYzLDIxMjUuOTgiIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOnJnYig3Niw3Niw3Nik7c3Ryb2tlLXdpZHRoOjguMTVweDsiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwtMCwtMCwxLDEzMSwyNTIwKSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNjIuMzg2LDgyLjU3TDM3MC4xNjgsODUuNTEyTDM2Ny44NTIsNzcuNTIxQzM2Ny43NDcsODAuMTUgMzY1LjAxNCw4Mi42NzUgMzYyLjM4Niw4Mi41N1oiIHN0eWxlPSJmaWxsOnJnYig3Niw3Niw3Nik7Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNjYuMTI5LDgxLjEzOUMzNTkuMjg5LDczLjczNSAzNDYuMTY1LDU5LjUyOCAzNDYuMTY1LDU5LjUyOEwyODEuMjA1LDU5LjUyOCIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6cmdiKDc2LDc2LDc2KTtzdHJva2Utd2lkdGg6Mi40OHB4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLDEsLTUuOTA1NTEsMzYuNjE0MikiPgogICAgICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLC0wLC0wLDEsMTM2LjkwNiwyNDgzLjM5KSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzU2LjQ4LDExOS4xODVMMzY0LjI2MiwxMjIuMTI2TDM2MS45NDYsMTE0LjEzNUMzNjEuODQyLDExNi43NjQgMzU5LjEwOSwxMTkuMjg5IDM1Ni40OCwxMTkuMTg1WiIgc3R5bGU9ImZpbGw6cmdiKDAsOTYsMTk2KTsiLz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNjAuMjIzLDExNy43NTNDMzUzLjM4NCwxMTAuMzQ5IDM0MC4yNiw5Ni4xNDIgMzQwLjI2LDk2LjE0MkwyODEuMjA1LDk2LjE0MiIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6cmdiKDAsOTYsMTk2KTtzdHJva2Utd2lkdGg6Mi40OHB4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7Ii8+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSwtMjAuNzgzNSwtMi43MDIyMikiPgogICAgICAgICAgICA8dGV4dCB4PSIzNjMuNzhweCIgeT0iMjYyNS4xNXB4IiBzdHlsZT0iZm9udC1mYW1pbHk6J0FyaWFsLUJvbGRNVCcsICdBcmlhbCcsIHNhbnMtc2VyaWY7Zm9udC13ZWlnaHQ6NzAwO2ZvbnQtc2l6ZToyMC44MzNweDtmaWxsOnJnYigwLDk2LDE5Nik7Ij5P76yAc2V0PC90ZXh0PgogICAgICAgIDwvZz4KICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwxLC0yMC43ODM1LC00MC44Mzc1KSI+CiAgICAgICAgICAgIDx0ZXh0IHg9IjM2My43OHB4IiB5PSIyNjI1LjE1cHgiIHN0eWxlPSJmb250LWZhbWlseTonQXJpYWwtQm9sZE1UJywgJ0FyaWFsJywgc2Fucy1zZXJpZjtmb250LXdlaWdodDo3MDA7Zm9udC1zaXplOjIwLjgzM3B4O2ZpbGw6cmdiKDc2LDc2LDc2KTsiPlNoYXBlPC90ZXh0PgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+Cg==" width="815" height="243" class="img_ev3q"></p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Here the character controller is initialized with an offset of 0.01.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> offset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.01</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> characterController </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> world</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createCharacterController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.01</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>It is <strong>not recommended</strong> to change the offset after the creation of the character controller.</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="up-vector">Up vector<a href="#up-vector" class="hash-link" aria-label="Direct link to Up vector" title="Direct link to Up vector">​</a></h2>
<!-- -->
<p>The <strong>up</strong> vector instructs the character controller of what direction should be considered <em>vertical</em>. The horizontal
plane is the plane orthogonal to this up vector. There are two equivalent ways to evaluate the slope of the floor: by
taking the angle between the floor and the horizontal plane (in 2D), or by taking the angle between the up-vector and
the normal of the floor (in 2D and 3D). By default, the up vector is the positive <strong>y</strong> axis, but it can be modified to
be any (unit) vector that suits the application.</p>
<p><img decoding="async" loading="lazy" alt="up vector and slope angles" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+Cjxzdmcgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDE0NTAgMzQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zOnNlcmlmPSJodHRwOi8vd3d3LnNlcmlmLmNvbS8iIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MS41OyI+CiAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwxLC01MDUsLTc4KSI+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoLTAuMDkzNDcyLC0xLjA1OTI4LDEuMDU5MjgsLTAuMDkzNDcyLDE1NjcuMjcsMTczNS45MykiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTQ0Mi43MSwyNTAuNzQ4QzE0NDIuNzEsMjUwLjc0OCAxNDYyLjgyLDI1Ni4xNzggMTQ1My41LDI5My4wNTMiIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOnJnYigxNzUsNywzMCk7c3Ryb2tlLXdpZHRoOjcuNjdweDsiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS4wNjMzOSwwLDAsMS4wNjMzOSwtMjcxLjU2OCwtNDMuMDk4NikiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTQ0MC45NCwyNDguMDMxQzE0NDAuOTQsMjQ4LjAzMSAxNDYyLjA3LDI1OC40MDEgMTQ1Mi43NiwyOTUuMjc2IiBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTpyZ2IoMTc1LDcsMzApO3N0cm9rZS13aWR0aDo3LjY3cHg7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxnIGlkPSJDYXBzdWxlIj4KICAgICAgICA8L2c+CiAgICAgICAgPGcgaWQ9IkNhcHN1bGUxIiBzZXJpZjppZD0iQ2Fwc3VsZSI+CiAgICAgICAgPC9nPgogICAgICAgIDxnIGlkPSJDYXBzdWxlMiIgc2VyaWY6aWQ9IkNhcHN1bGUiPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBpZD0iQ2Fwc3VsZTMiIHNlcmlmOmlkPSJDYXBzdWxlIj4KICAgICAgICA8L2c+CiAgICAgICAgPGcgaWQ9IkNhcHN1bGU0IiBzZXJpZjppZD0iQ2Fwc3VsZSI+CiAgICAgICAgPC9nPgogICAgICAgIDxnIGlkPSJDYXBzdWxlNSIgc2VyaWY6aWQ9IkNhcHN1bGUiPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBpZD0iQ2Fwc3VsZTYiIHNlcmlmOmlkPSJDYXBzdWxlIj4KICAgICAgICA8L2c+CiAgICAgICAgPGcgaWQ9IkNhcHN1bGU3IiBzZXJpZjppZD0iQ2Fwc3VsZSI+CiAgICAgICAgPC9nPgogICAgICAgIDxnIGlkPSJDYXBzdWxlOCIgc2VyaWY6aWQ9IkNhcHN1bGUiPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBpZD0iQ2Fwc3VsZTkiIHNlcmlmOmlkPSJDYXBzdWxlIj4KICAgICAgICA8L2c+CiAgICAgICAgPGcgaWQ9IkNhcHN1bGUxMCIgc2VyaWY6aWQ9IkNhcHN1bGUiPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBpZD0iQ2Fwc3VsZTExIiBzZXJpZjppZD0iQ2Fwc3VsZSI+CiAgICAgICAgPC9nPgogICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEuMDYzMzksMCwwLDEuMDYzMzksLTYwOC40MTUsLTE2Ni44MjQpIj4KICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMC45NDAzODUsLTAsLTAsMC45NDAzODUsMTA0Ny4wNCwyMzAuMjI5KSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTgwLjU3MSw2My41NjNMMTkyLjgwMiwzOS4xMDJMMjA1LjAzMiw2My41NjNDMTk4LjkxNyw1Ny40NDggMTg2LjY4Nyw1Ny40NDggMTgwLjU3MSw2My41NjNaIiBzdHlsZT0iZmlsbDpyZ2IoMTk3LDE1LDI0OCk7Ii8+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkyLjgwMiwxOTMuMjk1TDE5Mi44MDIsNTguNjcxIiBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTpyZ2IoMTk3LDE1LDI0OCk7c3Ryb2tlLXdpZHRoOjguMTVweDsiLz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLjA2MzM5LDAsMCwwLjk5MTUwNCw0MzYuODcyLC0xMzkuMTQ2KSI+CiAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDAuOTQwMzg1LC0wLC0wLDEuMDA4NTcsNjQuMDY2MSwyMTkuMDA3KSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIyNS44Niw3Mi4wNDZMMTIzOC4wOSw0Ny41ODZMMTI1MC4zMiw3Mi4wNDZDMTI0NC4yLDY1LjkzMSAxMjMxLjk3LDY1LjkzMSAxMjI1Ljg2LDcyLjA0NloiIHN0eWxlPSJmaWxsOnJnYigxOTcsMTUsMjQ4KTsiLz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjM4LjA5LDE5MS4zNTRMMTIzOC4wOSw2Ny4xNTQiIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOnJnYigxOTcsMTUsMjQ4KTtzdHJva2Utd2lkdGg6OC4xNXB4O3N0cm9rZS1saW5lY2FwOnJvdW5kOyIvPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEuMDYzMzksMCwwLDAuOTkxNTA0LDQzNi44NzIsLTEzOS4xNDYpIj4KICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMC45NDAzODUsLTAsLTAsMS4wMDg1Nyw2NC4wNjYxLDIxOS4wMDcpIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMTcxLjQ1LDg5LjAyOUwxMTcxLjA5LDYxLjY4M0wxMTkzLjE4LDc3LjhDMTE4NC45NCw3NS4xNzUgMTE3NC4wOCw4MC43ODkgMTE3MS40NSw4OS4wMjlaIiBzdHlsZT0iZmlsbDpyZ2IoNzYsNzYsNzYpOyIvPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTEyMzguMDksMTkxLjM1NEMxMjM4LjA5LDE5MS4zNTQgMTE5OC4zNCwxMTQuNDE3IDExODAuMDcsNzkuMDY4IiBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTpyZ2IoNzYsNzYsNzYpO3N0cm9rZS13aWR0aDo4LjE1cHg7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7Ii8+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoLTEuNTYwOTZlLTE2LC0xLjA2MzM5LC0yLjU0OTI0LDYuNTExNDFlLTE3LDE1NzIuMjUsMTU3Ny41MSkiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTIyOC4zNSw0MTJMMTIyOC4zNSwyNjciIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOnJnYigwLDE1MSwyNTUpO3N0cm9rZS13aWR0aDo0LjE3cHg7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KC0xLjU2MDk2ZS0xNiwtMS4wNjMzOSwtMi41NDkyNCw2LjUxMTQxZS0xNywyMDM0LjcsMTU3OS4wNSkiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTIyOC4zNSw0MTJMMTIyOC4zNSwyNjciIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOnJnYigwLDE1MSwyNTUpO3N0cm9rZS13aWR0aDo0LjE3cHg7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLDEsLTY5LjE2NiwtMzcuNzU0NikiPgogICAgICAgICAgICA8dGV4dCB4PSI3NzkuNTI4cHgiIHk9IjI0Mi40NDVweCIgc3R5bGU9ImZvbnQtZmFtaWx5OidBcmlhbE1UJywgJ0FyaWFsJywgc2Fucy1zZXJpZjtmb250LXNpemU6NDEuNjY3cHg7ZmlsbDpyZ2IoMTk3LDE1LDI0OCk7Ij5VcDwvdGV4dD4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSwtMjQzLjI1Nyw4Ny44MTk5KSI+CiAgICAgICAgICAgIDx0ZXh0IHg9Ijc3OS41MjhweCIgeT0iMjQyLjQ0NXB4IiBzdHlsZT0iZm9udC1mYW1pbHk6J0FyaWFsTVQnLCAnQXJpYWwnLCBzYW5zLXNlcmlmO2ZvbnQtc2l6ZTo0MS42NjdweDtmaWxsOnJnYigwLDE1MSwyNTUpOyI+SG9yaXpvbnRhbCBwbGFuZTwvdGV4dD4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS4wNjMzOSwwLDAsMS4wNjMzOSwtMjk2LjcyMSwtMzAuNTM4OCkiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTIxMS45NywzNTQuMzMxTDE1NTkuMDYsMTg4Ljk3NiIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6cmdiKDc2LDc2LDc2KTtzdHJva2Utd2lkdGg6Ny42N3B4O3N0cm9rZS1saW5lY2FwOnJvdW5kOyIvPgogICAgICAgIDwvZz4KICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLjA2MzM5LDAsMCwxLjA2MzM5LDI4Ni4xMjIsLTIzLjU5MzcpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTEyMTEuOTcsMzU0LjMzMUwxNTU5LjA2LDE4OC45NzYiIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOnJnYig3Niw3Niw3Nik7c3Ryb2tlLXdpZHRoOjcuNjdweDtzdHJva2UtbGluZWNhcDpyb3VuZDsiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSwtNjAxLjUxMSwxNjkuODM4KSI+CiAgICAgICAgICAgIDx0ZXh0IHg9IjE1NTkuMDZweCIgeT0iMjI0Ljc5MnB4IiBzdHlsZT0iZm9udC1mYW1pbHk6J0FyaWFsTVQnLCAnQXJpYWwnLCBzYW5zLXNlcmlmO2ZvbnQtc2l6ZTo1MHB4O2ZpbGw6cmdiKDc2LDc2LDc2KTsiPkZsb29yPC90ZXh0PgogICAgICAgIDwvZz4KICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwxLC0xOC42NjgxLDE3Ni43ODMpIj4KICAgICAgICAgICAgPHRleHQgeD0iMTU1OS4wNnB4IiB5PSIyMjQuNzkycHgiIHN0eWxlPSJmb250LWZhbWlseTonQXJpYWxNVCcsICdBcmlhbCcsIHNhbnMtc2VyaWY7Zm9udC1zaXplOjUwcHg7ZmlsbDpyZ2IoNzYsNzYsNzYpOyI+Rmxvb3I8L3RleHQ+CiAgICAgICAgPC9nPgogICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLDEsLTE5Mi4yMTksLTM5LjUyNDYpIj4KICAgICAgICAgICAgPHRleHQgeD0iMTQ3Ni4zOHB4IiB5PSIyODkuNjg5cHgiIHN0eWxlPSJmb250LWZhbWlseTonQXJpYWxNVCcsICdBcmlhbCcsIHNhbnMtc2VyaWY7Zm9udC1zaXplOjQxLjY2N3B4O2ZpbGw6cmdiKDE3NSw3LDMwKTsiPlNsb3BlIGFuZ2xlPC90ZXh0PgogICAgICAgIDwvZz4KICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwxLDEyNi44NjksLTE3Mi42MDYpIj4KICAgICAgICAgICAgPHRleHQgeD0iMTQ3Ni4zOHB4IiB5PSIyODkuNjg5cHgiIHN0eWxlPSJmb250LWZhbWlseTonQXJpYWxNVCcsICdBcmlhbCcsIHNhbnMtc2VyaWY7Zm9udC1zaXplOjQxLjY2N3B4O2ZpbGw6cmdiKDE3NSw3LDMwKTsiPlNsb3BlIGFuZ2xlPC90ZXh0PgogICAgICAgIDwvZz4KICAgICAgICA8ZyBpZD0iQ2Fwc3VsZTEyIiBzZXJpZjppZD0iQ2Fwc3VsZSI+CiAgICAgICAgPC9nPgogICAgICAgIDxnIGlkPSJDYXBzdWxlMTMiIHNlcmlmOmlkPSJDYXBzdWxlIj4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo=" width="1450" height="340" class="img_ev3q"></p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Example 2D</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Example 3D</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> characterController </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> world</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createCharacterController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.01</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Change the character controller’s up vector to the positive X axis.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">characterController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setUp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">x</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">y</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> characterController </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> world</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createCharacterController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.01</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Change the character controller’s up vector to the positive Z axis.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">characterController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setUp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">x</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">y</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">z</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="slopes">Slopes<a href="#slopes" class="hash-link" aria-label="Direct link to Slopes" title="Direct link to Slopes">​</a></h2>
<!-- -->
<p>If sliding is enabled, the character can automatically climb slopes if they are not too steep, or slide down slopes if
they are too steep. Sliding is configured by the following parameters:</p>
<ul>
<li>The <strong>max slope climb angle</strong>: if the angle between the slope to climb and the horizontal floor is larger than this
value, then the character won’t be able to slide up this slope.</li>
<li>The <strong>min slope slide angle</strong>: if the angle between the slope and the horizontal floor is smaller than this value,
then the vertical component of the character’s movement won’t result in any sliding.</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>As always in Rapier, angles are specified in radians.</p></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> characterController </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> world</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createCharacterController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.01</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Don’t allow climbing slopes larger than 45 degrees.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">characterController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setMaxSlopeClimbAngle</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">45</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">PI</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">180</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Automatically slide down on slopes smaller than 30 degrees.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">characterController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setMinSlopeSlideAngle</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">PI</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">180</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="stairs-and-small-obstacles">Stairs and small obstacles<a href="#stairs-and-small-obstacles" class="hash-link" aria-label="Direct link to Stairs and small obstacles" title="Direct link to Stairs and small obstacles">​</a></h2>
<!-- -->
<p>If enabled, the <strong>autostep</strong> setting allows the character to climb stairs automatically and walk over small obstacles.
Autostepping requires the following parameters:</p>
<ul>
<li>The <strong>maximum height</strong> the character can step over. If the vertical movement needed to step over this obstacle is larger
than this value, then the character will be stopped by the obstacle.</li>
<li>The <strong>minimum (horizontal) width</strong> available on top of the obstacle. If, after the character is teleported on top of the obstacle, it
cannot move forward by a distance larger than this minimum width, then the character will just be stopped by the obstacle
(without being moved to the top of the obstacle).</li>
<li>Whether or not autostepping is <strong>enabled for dynamic bodies</strong>. If it is not enabled for dynamic bodies, the character
won’t attempt to automatically step over small dynamic bodies. Disabling this can be useful if we want the character to
push these small objects (see <a href="/docs/user_guides/javascript/character_controller_stairs#collisions">collisions</a>) instead of just stepping over them.</li>
</ul>
<p>The following depicts (top) one configuration where all the autostepping conditions are satisfied, and, (bottom) two
configurations where these conditions are not all satisfied (left: because the width of the step is too small, right:
because the height of the step is too large):</p>
<p><img decoding="async" loading="lazy" alt="autostepping" src="/assets/images/cct_autostep-24533af597f246c979b8fc75801cc289.svg" width="1368" height="794" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Autostepping will only activate if the character is touching the floor right before the obstacle.
This prevents the player from being teleported on to of a platform while it is in the air.</p></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> characterController </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> world</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createCharacterController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.01</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Autostep if the step height is smaller than 0.5, its width is larger than 0.2,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// and allow stepping on dynamic bodies.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">characterController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">enableAutostep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Disable autostep.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">characterController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">disableAutostep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="snap-to-ground">Snap-to-ground<a href="#snap-to-ground" class="hash-link" aria-label="Direct link to Snap-to-ground" title="Direct link to Snap-to-ground">​</a></h2>
<!-- -->
<p>If enabled, <strong>snap-to-ground</strong> will force the character to stick to the ground if the following conditions are met
simultaneously:</p>
<ul>
<li>At the start of the movement, the character touches the ground.</li>
<li>The movement has a slight downward component.</li>
<li>At the end of the desired movement, the character would be separated from the ground by a distance smaller than the
distance provided by the <strong>snap-to-ground</strong> parameter.</li>
</ul>
<p>If these conditions are met, the character is automatically teleported down to the ground at the end of its motion.
Typical usages of snap-to-ground include going downstairs or remaining in contact with the floor when moving downhill.</p>
<p><img decoding="async" loading="lazy" alt="snap-to-ground" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+Cjxzdmcgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDExNzMgMzg5IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zOnNlcmlmPSJodHRwOi8vd3d3LnNlcmlmLmNvbS8iIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MS41OyI+CiAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwxLC0zNzAsLTE4NzkpIj4KICAgICAgICA8ZyBpZD0iQ2Fwc3VsZSI+CiAgICAgICAgPC9nPgogICAgICAgIDxnIGlkPSJDYXBzdWxlMSIgc2VyaWY6aWQ9IkNhcHN1bGUiPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBpZD0iQ2Fwc3VsZTIiIHNlcmlmOmlkPSJDYXBzdWxlIiB0cmFuc2Zvcm09Im1hdHJpeCgwLjg1NzE0MywwLDAsMC44NTcxNDMsMzUyLjY2NiwxODgzLjg2KSI+CiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjI0Mi4xMjYiIGN5PSIxMjQuMDE2IiByPSI0MS4zMzkiIHN0eWxlPSJmaWxsOnJnYigyMjEsMjIxLDIyMSk7Ii8+CiAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLDEsLTUuNjg0MzRlLTE0LDEyOS45MjEpIj4KICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9IjI0Mi4xMjYiIGN5PSIxMjQuMDE2IiByPSI0MS4zMzkiIHN0eWxlPSJmaWxsOnJnYigyMjEsMjIxLDIyMSk7Ii8+CiAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPHJlY3QgeD0iMjAwLjc4NyIgeT0iMTI0LjAxNiIgd2lkdGg9IjgyLjY3NyIgaGVpZ2h0PSIxMzUuODI3IiBzdHlsZT0iZmlsbDpyZ2IoMjIxLDIyMSwyMjEpOyIvPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBpZD0iQ2Fwc3VsZTMiIHNlcmlmOmlkPSJDYXBzdWxlIiB0cmFuc2Zvcm09Im1hdHJpeCgwLjg1NzE0MywwLDAsMC44NTcxNDMsOTMxLjA2LDE4ODkuNzYpIj4KICAgICAgICAgICAgPGNpcmNsZSBjeD0iMjQyLjEyNiIgY3k9IjEyNC4wMTYiIHI9IjQxLjMzOSIgc3R5bGU9ImZpbGw6cmdiKDIyMSwyMjEsMjIxKTsiLz4KICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSwtNS42ODQzNGUtMTQsMTI5LjkyMSkiPgogICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iMjQyLjEyNiIgY3k9IjEyNC4wMTYiIHI9IjQxLjMzOSIgc3R5bGU9ImZpbGw6cmdiKDIyMSwyMjEsMjIxKTsiLz4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8cmVjdCB4PSIyMDAuNzg3IiB5PSIxMjQuMDE2IiB3aWR0aD0iODIuNjc3IiBoZWlnaHQ9IjEzNS44MjciIHN0eWxlPSJmaWxsOnJnYigyMjEsMjIxLDIyMSk7Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxnIGlkPSJDYXBzdWxlNCIgc2VyaWY6aWQ9IkNhcHN1bGUiIHRyYW5zZm9ybT0ibWF0cml4KDAuODU3MTQzLDAsMCwwLjg1NzE0MywzNTIuODA1LDE4MjguMTgpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTIwMC43ODcsMTI0LjAxNkMyMDAuNzg3LDEwMS4yIDIxOS4zMTEsODIuNjc3IDI0Mi4xMjYsODIuNjc3QzI2NC45NDEsODIuNjc3IDI4My40NjUsMTAxLjIgMjgzLjQ2NSwxMjQuMDE2IiBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTpyZ2IoMCw5NiwxOTYpO3N0cm9rZS13aWR0aDoyLjg5cHg7c3Ryb2tlLWRhc2hhcnJheToyLjg5LDExLjU4LDAsMDtzdHJva2UtZGFzaG9mZnNldDoyLjg5OyIvPgogICAgICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwxLC01LjY4NDM0ZS0xNCwxMjkuOTIxKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjgzLjQ2NSwxMjEuNzUyQzI4My40NjUsMTQ0LjU2NyAyNjQuOTQxLDE2NS4zNTQgMjQyLjEyNiwxNjUuMzU0QzIxOS4zMTEsMTY1LjM1NCAyMDAuNzg3LDE0Ni44MzEgMjAwLjc4NywxMjQuMDE2IiBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTpyZ2IoMCw5NiwxOTYpO3N0cm9rZS13aWR0aDoyLjg5cHg7c3Ryb2tlLWRhc2hhcnJheToyLjg5LDExLjU4LDAsMDsiLz4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8cGF0aCBkPSJNMjAwLjc4NywxMjQuMDE2TDIwMC43ODcsMjU5Ljg0MyIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6cmdiKDAsOTYsMTk2KTtzdHJva2Utd2lkdGg6Mi44OXB4O3N0cm9rZS1kYXNoYXJyYXk6Mi44OSwxMS41OCwwLDA7Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yODMuNDY1LDI1My43NEwyODMuNDY1LDEyNC4wMTYiIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOnJnYigwLDk2LDE5Nik7c3Ryb2tlLXdpZHRoOjIuODlweDtzdHJva2UtZGFzaGFycmF5OjIuODksMTEuNTgsMCwwOyIvPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBpZD0iQ2Fwc3VsZTUiIHNlcmlmOmlkPSJDYXBzdWxlIiB0cmFuc2Zvcm09Im1hdHJpeCgwLjg1NzE0MywwLDAsMC44NTcxNDMsOTMxLjE5OSwxODM0LjA4KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMDAuNzg3LDEyNC4wMTZDMjAwLjc4NywxMDEuMiAyMTkuMzExLDgyLjY3NyAyNDIuMTI2LDgyLjY3N0MyNjQuOTQxLDgyLjY3NyAyODMuNDY1LDEwMS4yIDI4My40NjUsMTI0LjAxNiIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6cmdiKDAsOTYsMTk2KTtzdHJva2Utd2lkdGg6Mi44OXB4O3N0cm9rZS1kYXNoYXJyYXk6Mi44OSwxMS41OCwwLDA7c3Ryb2tlLWRhc2hvZmZzZXQ6Mi44OTsiLz4KICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSwtNS42ODQzNGUtMTQsMTI5LjkyMSkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTI4My40NjUsMTIxLjc1MkMyODMuNDY1LDE0NC41NjcgMjY0Ljk0MSwxNjUuMzU0IDI0Mi4xMjYsMTY1LjM1NEMyMTkuMzExLDE2NS4zNTQgMjAwLjc4NywxNDYuODMxIDIwMC43ODcsMTI0LjAxNiIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6cmdiKDAsOTYsMTk2KTtzdHJva2Utd2lkdGg6Mi44OXB4O3N0cm9rZS1kYXNoYXJyYXk6Mi44OSwxMS41OCwwLDA7Ii8+CiAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPHBhdGggZD0iTTIwMC43ODcsMTI0LjAxNkwyMDAuNzg3LDI1OS44NDMiIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOnJnYigwLDk2LDE5Nik7c3Ryb2tlLXdpZHRoOjIuODlweDtzdHJva2UtZGFzaGFycmF5OjIuODksMTEuNTgsMCwwOyIvPgogICAgICAgICAgICA8cGF0aCBkPSJNMjgzLjQ2NSwyNTMuNzRMMjgzLjQ2NSwxMjQuMDE2IiBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTpyZ2IoMCw5NiwxOTYpO3N0cm9rZS13aWR0aDoyLjg5cHg7c3Ryb2tlLWRhc2hhcnJheToyLjg5LDExLjU4LDAsMDsiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgaWQ9IkNhcHN1bGU2IiBzZXJpZjppZD0iQ2Fwc3VsZSI+CiAgICAgICAgPC9nPgogICAgICAgIDxnIGlkPSJDYXBzdWxlNyIgc2VyaWY6aWQ9IkNhcHN1bGUiPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBpZD0iQ2Fwc3VsZTgiIHNlcmlmOmlkPSJDYXBzdWxlIj4KICAgICAgICA8L2c+CiAgICAgICAgPGcgaWQ9IkNhcHN1bGU5IiBzZXJpZjppZD0iQ2Fwc3VsZSIgdHJhbnNmb3JtPSJtYXRyaXgoMC44NTcxNDMsMCwwLDAuODU3MTQzLDUwMS4xMjUsMTgxMi45OSkiPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSIyNDIuMTI2IiBjeT0iMTI0LjAxNiIgcj0iNDEuMzM5IiBzdHlsZT0iZmlsbDpyZ2IoNzYsNzYsNzYpOyIvPgogICAgICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwxLC01LjY4NDM0ZS0xNCwxMjkuOTIxKSI+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSIyNDIuMTI2IiBjeT0iMTI0LjAxNiIgcj0iNDEuMzM5IiBzdHlsZT0iZmlsbDpyZ2IoNzYsNzYsNzYpOyIvPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxyZWN0IHg9IjIwMC43ODciIHk9IjEyNC4wMTYiIHdpZHRoPSI4Mi42NzciIGhlaWdodD0iMTM1LjgyNyIgc3R5bGU9ImZpbGw6cmdiKDc2LDc2LDc2KTsiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgaWQ9IkNhcHN1bGUxMCIgc2VyaWY6aWQ9IkNhcHN1bGUiIHRyYW5zZm9ybT0ibWF0cml4KDAuODU3MTQzLDAsMCwwLjg1NzE0MywxMDc5LjUyLDE4MTguOSkiPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSIyNDIuMTI2IiBjeT0iMTI0LjAxNiIgcj0iNDEuMzM5IiBzdHlsZT0iZmlsbDpyZ2IoNzYsNzYsNzYpOyIvPgogICAgICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwxLC01LjY4NDM0ZS0xNCwxMjkuOTIxKSI+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSIyNDIuMTI2IiBjeT0iMTI0LjAxNiIgcj0iNDEuMzM5IiBzdHlsZT0iZmlsbDpyZ2IoNzYsNzYsNzYpOyIvPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxyZWN0IHg9IjIwMC43ODciIHk9IjEyNC4wMTYiIHdpZHRoPSI4Mi42NzciIGhlaWdodD0iMTM1LjgyNyIgc3R5bGU9ImZpbGw6cmdiKDc2LDc2LDc2KTsiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgaWQ9IkNhcHN1bGUxMSIgc2VyaWY6aWQ9IkNhcHN1bGUiPgogICAgICAgIDwvZz4KICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwxLC0xNTMuNTQzLDE4MDEuMTgpIj4KICAgICAgICAgICAgPHRleHQgeD0iNzMyLjI4M3B4IiB5PSI0NDMuMTA1cHgiIHN0eWxlPSJmb250LWZhbWlseTonQXJpYWxNVCcsICdBcmlhbCcsIHNhbnMtc2VyaWY7Zm9udC1zaXplOjI1cHg7ZmlsbDpyZ2IoMCw5NiwxOTYpOyI+RGVzaXJlZCBtb3ZlbWVudDwvdGV4dD4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSw0MjQuODUxLDE4MDcuMDkpIj4KICAgICAgICAgICAgPHRleHQgeD0iNzMyLjI4M3B4IiB5PSI0NDMuMTA1cHgiIHN0eWxlPSJmb250LWZhbWlseTonQXJpYWxNVCcsICdBcmlhbCcsIHNhbnMtc2VyaWY7Zm9udC1zaXplOjI1cHg7ZmlsbDpyZ2IoMCw5NiwxOTYpOyI+RGVzaXJlZCBtb3ZlbWVudDwvdGV4dD4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoLTEuNjkwNzYsMC4yMTU4MjEsLTAuMTI2NjIsLTAuOTkxOTUxLDE4NjcuMjQsMjQxMS45MikiPgogICAgICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgtMC41ODE5NjcsLTAuMTI2NjIsMC4wNzQyODYzLC0wLjk5MTk1MSw4MzEuNzU4LDcxOC4yMDkpIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yNjUuNDM0LDMzMS4xOTdMMjQ0LjE3MywzMjMuNzU2TDI2Mi44ODMsMzExLjIxMkMyNTguNTI0LDMxNi44NDYgMjU5LjgsMzI2LjgzOSAyNjUuNDM0LDMzMS4xOTdaIiBzdHlsZT0iZmlsbDpyZ2IoMCw5NiwxOTYpOyIvPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTM5Mi40OTMsMzA0LjgyM0MzOTIuNDkzLDMwNC44MjMgMjk4LjQ5NywzMTYuODIyIDI2MC4xNjEsMzIxLjcxNSIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6cmdiKDAsOTYsMTk2KTtzdHJva2Utd2lkdGg6Ni43MnB4OyIvPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KC0xLjY5MDc2LDAuMjE1ODIxLC0wLjEyNjYyLC0wLjk5MTk1MSwyNDQ1LjY0LDI0MTcuODIpIj4KICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoLTAuNTgxOTY3LC0wLjEyNjYyLDAuMDc0Mjg2MywtMC45OTE5NTEsMTE2Ny45Myw3OTcuMzAzKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODQzLjgyOCwzMzcuMTAzTDgyMi41NjcsMzI5LjY2MUw4NDEuMjc3LDMxNy4xMThDODM2LjkxOCwzMjIuNzUyIDgzOC4xOTQsMzMyLjc0NCA4NDMuODI4LDMzNy4xMDNaIiBzdHlsZT0iZmlsbDpyZ2IoMCw5NiwxOTYpOyIvPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTk3MC44ODgsMzEwLjcyOUM5NzAuODg4LDMxMC43MjkgODc2Ljg5MSwzMjIuNzI3IDgzOC41NTUsMzI3LjYyMSIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6cmdiKDAsOTYsMTk2KTtzdHJva2Utd2lkdGg6Ni43MnB4OyIvPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KC0xLjY5MDc2LDAuMjE1ODIxLC0wLjEyNjYyLC0wLjk5MTk1MSwxODEzLjQxLDIxOTkuMzIpIj4KICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoLTAuNTgxOTY3LC0wLjEyNjYyLDAuMDc0Mjg2MywtMC45OTE5NTEsODE2LjIyMyw1MDAuNTA1KSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjExLjYwMiwxMTguNTk5TDE5MC4zNDEsMTExLjE1N0wyMDkuMDUxLDk4LjYxNEMyMDQuNjkyLDEwNC4yNDggMjA1Ljk2OCwxMTQuMjQgMjExLjYwMiwxMTguNTk5WiIgc3R5bGU9ImZpbGw6cmdiKDAsOTYsMTk2KTsiLz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMzguNjYxLDkyLjIyNUMzMzguNjYxLDkyLjIyNSAyNDQuNjY1LDEwNC4yMjMgMjA2LjMyOSwxMDkuMTE3IiBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTpyZ2IoMCw5NiwxOTYpO3N0cm9rZS13aWR0aDo2LjcycHg7Ii8+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoLTEuNjkwNzYsMC4yMTU4MjEsLTAuMTI2NjIsLTAuOTkxOTUxLDIzOTEuODEsMjIwNS4yMikiPgogICAgICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgtMC41ODE5NjcsLTAuMTI2NjIsMC4wNzQyODYzLC0wLjk5MTk1MSwxMTUyLjM5LDU3OS42KSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNzg5Ljk5NiwxMjQuNTA0TDc2OC43MzUsMTE3LjA2M0w3ODcuNDQ1LDEwNC41MkM3ODMuMDg2LDExMC4xNTQgNzg0LjM2MiwxMjAuMTQ2IDc4OS45OTYsMTI0LjUwNFoiIHN0eWxlPSJmaWxsOnJnYigwLDk2LDE5Nik7Ii8+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTE3LjA1Niw5OC4xM0M5MTcuMDU2LDk4LjEzIDgyMy4wNTksMTEwLjEyOSA3ODQuNzIzLDExNS4wMjIiIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOnJnYigwLDk2LDE5Nik7c3Ryb2tlLXdpZHRoOjYuNzJweDsiLz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwxLDIwMC43ODcsMTcuNzE2NSkiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTc3LjE2NSwyMTI1Ljk4TDQ3Mi40NDEsMjEyNS45OEw0NzIuNDQxLDIwNTUuMTJMNzMyLjI4MywyMDU1LjEyIiBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTpyZ2IoNzYsNzYsNzYpO3N0cm9rZS13aWR0aDo4LjE1cHg7Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLDEsMjcuNzM5NiwzMS4zNjk2KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDczLjExLDIxNTguMzZDMTA4Ni4wMiwyMTQ3LjA5IDEyNDYuMDUsMTk4OS43NyAxNDg4LjE5LDIwMzEuNSIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6cmdiKDc2LDc2LDc2KTtzdHJva2Utd2lkdGg6OC4xNXB4OyIvPgogICAgICAgIDwvZz4KICAgICAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLC0wLjAwMDMzNTA0MywtMC4wMDAzMzUwNDMsMS4xNDI4NiwyMDEuMzA5LC0xNjcuNzYzKSI+CiAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDAuOTk5OTk5LDAuMDAwMjkzMTYzLDAuMDAwMjkzMTYzLDAuODc1MDAxLDE2OS4yOSwxNzkwLjk3KSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjAyLjUwNSwyMzMuNDU3TDE5MC4zNDEsMjU3Ljk1MkwxNzguMDQ0LDIzMy41MjRDMTg0LjE3NiwyMzkuNjIzIDE5Ni40MDYsMjM5LjU4OSAyMDIuNTA1LDIzMy40NTdaIiBzdHlsZT0iZmlsbDpyZ2IoMTAsMTQ4LDMpOyIvPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5MC4yMDMsMjA3LjMzM0MxOTAuMjAzLDIwNy4zMzMgMTkwLjI0OSwyMjQuMTM5IDE5MC4yODgsMjM4LjM4MyIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6cmdiKDEwLDE0OCwzKTtzdHJva2Utd2lkdGg6OC4xNXB4OyIvPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEsLTAuMDAwMzM1MDQzLC0wLjAwMDMzNTA0MywxLjE0Mjg2LDc3OS43MDQsLTE2MS44NTgpIj4KICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMC45OTk5OTksMC4wMDAyOTMxNjMsMC4wMDAyOTMxNjMsMC44NzUwMDEsLTQwOS4xMDUsMTc4NS42MykiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTc4MC44OTksMjM5LjM2M0w3NjguNzM1LDI2My44NTdMNzU2LjQzOCwyMzkuNDNDNzYyLjU3LDI0NS41MjggNzc0LjgsMjQ1LjQ5NSA3ODAuODk5LDIzOS4zNjNaIiBzdHlsZT0iZmlsbDpyZ2IoMTAsMTQ4LDMpOyIvPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTc2OC41OTcsMjEzLjIzOEM3NjguNTk3LDIxMy4yMzggNzY4LjY0MywyMzAuMDQ0IDc2OC42ODIsMjQ0LjI4OSIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6cmdiKDEwLDE0OCwzKTtzdHJva2Utd2lkdGg6OC4xNXB4OyIvPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLDEsMjk1LjI3Niw5MC44MDE1KSI+CiAgICAgICAgICAgIDx0ZXh0IHg9IjE2NS4zNTRweCIgeT0iMjAxOC44NnB4IiBzdHlsZT0iZm9udC1mYW1pbHk6J0FyaWFsLUJvbGRNVCcsICdBcmlhbCcsIHNhbnMtc2VyaWY7Zm9udC13ZWlnaHQ6NzAwO2ZvbnQtc2l6ZTozMy4zMzNweDtmaWxsOnJnYigxMCwxNDgsMyk7c3Ryb2tlOndoaXRlO3N0cm9rZS13aWR0aDowLjQ3cHg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbWl0ZXJsaW1pdDoyOyI+U25hcDwvdGV4dD4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSw4NzMuNjcsOTYuNzA3KSI+CiAgICAgICAgICAgIDx0ZXh0IHg9IjE2NS4zNTRweCIgeT0iMjAxOC44NnB4IiBzdHlsZT0iZm9udC1mYW1pbHk6J0FyaWFsLUJvbGRNVCcsICdBcmlhbCcsIHNhbnMtc2VyaWY7Zm9udC13ZWlnaHQ6NzAwO2ZvbnQtc2l6ZTozMy4zMzNweDtmaWxsOnJnYigxMCwxNDgsMyk7c3Ryb2tlOndoaXRlO3N0cm9rZS13aWR0aDowLjQ3cHg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbWl0ZXJsaW1pdDoyOyI+U25hcDwvdGV4dD4KICAgICAgICA8L2c+CiAgICAgICAgPGcgaWQ9IkNhcHN1bGUxMiIgc2VyaWY6aWQ9IkNhcHN1bGUiPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBpZD0iQ2Fwc3VsZTEzIiBzZXJpZjppZD0iQ2Fwc3VsZSI+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4K" width="1173" height="389" class="img_ev3q"></p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> characterController </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> world</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createCharacterController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.01</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Snap to the ground if the vertical distance to the ground is smaller than 0.5.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">characterController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">enableSnapToGround</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Disable snap-to-ground.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">characterController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">disableSnapToGround</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="filtering">Filtering<a href="#filtering" class="hash-link" aria-label="Direct link to Filtering" title="Direct link to Filtering">​</a></h2>
<!-- -->
<p>It is possible to let the character controller ignore some obstacles. This can be achieved by setting the
optional arguments of the <code>KinematicCharacterController.computeColliderMovement</code> method:</p>
<ul>
<li><code>filterFlags</code>: to exclude whole families of obstacles (e.g. all the colliders attached to dynamic rigid-bodies).</li>
<li><code>filterGroups</code>: filter based on the colliders <a href="/docs/user_guides/javascript/colliders#collision-groups-and-solver-groups">collision groups</a>.</li>
<li><code>filterPredicate</code>: an arbitrary closure to filter-out colliders based on user-defined rules.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="collisions">Collisions<a href="#collisions" class="hash-link" aria-label="Direct link to Collisions" title="Direct link to Collisions">​</a></h2>
<!-- -->
<p>As the character moves along its path, it will hit grounds and obstacles before sliding or stepping on them. Knowing what
collider was hit on this path, and where the hit took place, can be valuable to apply various logic (custom forces,
sound effects, etc.) This is why a set of character collision events are collected during the calculation of its
trajectory.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>The character collision events are given in chronological order. For example, if, during the resolution of the character
motion, the character hits an obstacle A, then slides against it, and then hits another obstacle B. The collision
with A will be reported first, and the collision with B will be reported second.</p></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> characterController </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> world</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createCharacterController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.01</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">characterController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">computeColliderMovement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">collider</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> desiredMovementVector</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// After the collider movement calculation is done, we can read the</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// collision events.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> characterController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">numComputedCollisions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> collision </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> characterController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">computedCollision</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Do something with that collision information.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Unless dynamic bodies are filtered-out by the character controller’s filters, they may be hit during the resolution
of the character movement. If that happens, these dynamic bodies will generally not react to (i.e. not be pushed by) the
character because the character controller’s offset prevents actual contacts from happening.</p>
<p>In these situations forces need to be applied manually to this rigid-bodies. The character controller can apply these
forces for you if needed:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> characterController </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> world</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createCharacterController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.01</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Enable the automatic application of impulses to the dynamic bodies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// hit by the character along its path.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">characterController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setApplyImpulsesToDynamicBodies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="gravity">Gravity<a href="#gravity" class="hash-link" aria-label="Direct link to Gravity" title="Direct link to Gravity">​</a></h2>
<p>Since you are responsible for providing the movement vector to the character controller at each frame, it is up to
you to emulate gravity by adding a downward component to that movement vector.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/user_guides/javascript/joint_constraints"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Joint constraints</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/user_guides/javascript/scene_queries"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Scene queries</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setup-and-usage" class="table-of-contents__link toc-highlight">Setup and usage</a></li><li><a href="#character-offset" class="table-of-contents__link toc-highlight">Character offset</a></li><li><a href="#up-vector" class="table-of-contents__link toc-highlight">Up vector</a></li><li><a href="#slopes" class="table-of-contents__link toc-highlight">Slopes</a></li><li><a href="#stairs-and-small-obstacles" class="table-of-contents__link toc-highlight">Stairs and small obstacles</a></li><li><a href="#snap-to-ground" class="table-of-contents__link toc-highlight">Snap-to-ground</a></li><li><a href="#filtering" class="table-of-contents__link toc-highlight">Filtering</a></li><li><a href="#collisions" class="table-of-contents__link toc-highlight">Collisions</a></li><li><a href="#gravity" class="table-of-contents__link toc-highlight">Gravity</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/">Documentation</a></li><li class="footer__item"><a href="https://rapier.rs/demos2d/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Demos 2D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://rapier.rs/demos3d/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Demos 3D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/rapier" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/vt9DJSW" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/dimforge/rapier" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.dimforge.com/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="https://www.dimforge.com/img/logo/logo_dimforge_small_rect.svg" alt="Dimforge EURL Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://www.dimforge.com/img/logo/logo_dimforge_small_rect.svg" alt="Dimforge EURL Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Built by <a href="https://www.dimforge.com">Dimforge, EURL</a>.</div></div></div></footer></div>
</body>
</html>